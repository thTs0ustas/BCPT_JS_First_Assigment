(()=>{"use strict";const e=()=>{document.getElementById("main").innerHTML='<div class="headings-container">\n    <h2 class="heading1">Private</h2>\n    <h2 class="heading2">School</h2>\n  </div>',document.getElementById("navbar-toggler").ariaExpanded=!1,document.getElementById("navbar-toggler").classList.add("collapsed"),document.getElementById("navbarNavDropdown").classList.remove("show")};let t=window.sessionStorage;t.setItem("studentState",JSON.stringify({Thanos:{courses:"Java",dateOfBirth:"2021-11-27",email:"th.ts0ustas@gmail.com",fee:"2,56 €",firstName:"thanos",lastName:"tsou"}})),t.setItem("teachersState",JSON.stringify({Thanos:{email:"th.ts0ustas@gmail.com",firstName:"Thanos",lastName:"Tsoustas",subject:"Javascript"}})),t.setItem("courseState",JSON.stringify({Java:{addNew:"",cost:"2.555,00 €",courseName:"Java",endDate:"2021-12-05",startingDate:"2021-11-01",stream:"Java",type:"PartTime"}})),t.setItem("assignments","{}");const n=(e,n,a={})=>{t.setItem(e,JSON.stringify({...a[e]}))},a=(e,t)=>e[t.elements[0].value]=[...t.elements].reduce(((e,t)=>t.id?{...e,[t.id]:t.value}:{...e}),{}),s=(e,t)=>{try{const n=document.getElementById("table");let a=n.rows.length;for(let s=0;s<a;s++){const d=n.rows[s],l=d.cells[4].childNodes[3],o=d.cells[0].id;if(l.id===e){n.deleteRow(s);const{[o]:e,...d}=t;return a--,d}}}catch(e){console.error(e)}},d=(e,t)=>{let n=document?.getElementById(t),a=n?.options[n.selectedIndex].value;for(let t in e[a]){console.log(e[a][t]);let n=document?.getElementById(t);"stream"!==t&&"type"!==t?n?.setAttribute("value",e[a][t]):[...n].forEach(((s,d)=>{s&&s.value===e[a][t]&&n[d]&&(console.log(n[d].value),n[d].selected="selected")}))}};let l={};const o=()=>{var e;document.getElementById("main").innerHTML=(e=JSON.parse(t.courseState),`\n  <div class="form-container">\n    <form id="studentsForm">\n      <div class="outer_parts">\n        <h1>Student Registration</h1>\n      </div>\n      <div class="form">\n        <table>\n          <tr>\n            <td>\n              <label for="firstName">First Name</label>\n            </td>\n            <td colspan="2">\n              <input\n                type="text"\n                id="firstName"\n                placeholder="Enter First Name...."\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <label for="lastName">Last Name</label>\n            </td>\n            <td colspan="2">\n              <input\n                type="text"\n                id="lastName"\n                placeholder="Enter Last Name...."\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <label for="courses">Lesson Selection</label>\n            </td>\n            <td colspan="2">\n              <select id="courses" required>\n                <option value="" selected name="courses">-</option>\n                ${Object.keys(e).map((e=>`<option value="${e}" name="courses">\n                  ${e}\n                </option>`))}\n              </select>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <label for="dateOfBirth">Date Of Birth</label>\n            </td>\n            <td colspan="2">\n              <input type="date" required id="dateOfBirth" />\n            </td>\n          </tr>\n\n          <tr>\n            <td>\n              <label for="fee">Tuition Fee</label>\n            </td>\n            <td colspan="2">\n              <input type="text" value="0.00 €" disabled id="fee" />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <label for="email">E-mail</label>\n            </td>\n            <td colspan="2">\n              <input\n                type="email"\n                required\n                id="email"\n                placeholder="Enter Email...."\n              />\n            </td>\n          </tr>\n        </table>\n        <div class="outer_parts">\n          <div class="buttons">\n            <button type="submit">Submit</button>\n            <button type="reset">Cancel</button>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n`),document.getElementById("navbar-toggler").ariaExpanded=!1,document.getElementById("navbar-toggler").classList.add("collapsed"),document.getElementById("navbarNavDropdown").classList.remove("show"),document.getElementById("courses").addEventListener("change",(()=>((e,t)=>{let n=document.getElementById("courses"),a=n.options[n.selectedIndex].value;console.log(a),document.getElementById("fee").setAttribute("value",e[a]?.cost||"0")})(JSON.parse(t.courseState))));let s=document.getElementById("studentsForm");s.addEventListener("submit",(e=>{e.preventDefault(),a(l,s),n("studentState",0,{...l,studentState:l}),s.reset()}))},r="Javascript",i="Java",c="C#",m="Python",u=`<div class="form-container">\n    <form id="teachersForm">\n      <div class="outer_parts">\n        <h1>Trainer Registration</h1>\n      </div>\n\n      <div class="form">\n        <table>\n          <tr>\n            <td>\n              <label for="firstName">First Name</label>\n            </td>\n            <td colspan="2">\n              <input\n                required\n                type="text"\n                id="firstName"\n                placeholder="Enter First Name...."\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <label for="lastName">Last Name</label>\n            </td>\n            <td colspan="2">\n              <input\n                required\n                type="text"\n                id="lastName"\n                placeholder="Enter Last Name...."\n              />\n            </td>\n          </tr>\n\n          <tr>\n            <td>\n              <label for="subject">Subject</label>\n            </td>\n            <td colspan="2">\n              <select id="subject" required>\n                <option value="" selected name="subject">-</option>\n                <option value="${r}" name="subject">\n                  ${r}\n                </option>\n                <option value="${i}" name="subject">\n                  ${i}\n                </option>\n                <option value="${c}" name="subject">\n                  ${c}\n                </option>\n                <option value="${m}" name="subject">\n                  ${m}\n                </option>\n              </select>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <label for="email">E-mail</label>\n            </td>\n            <td colspan="2">\n              <input\n                required\n                type="email"\n                id="email"\n                placeholder="Enter Email...."\n              />\n            </td>\n          </tr>\n        </table>\n        <div class="outer_parts">\n          <div class="buttons">\n            <button type="submit">Submit</button>\n            <button type="reset">Cancel</button>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>`,p={},b=e=>{let t=e.target.value;var n;e.target.value=t||0===t?(n=t,Number(String(n).replace(/[^0-9.-]+/g,""))).toLocaleString("de-DE",{maximumFractionDigits:2,currency:"EUR",style:"currency"}):""};let v={},g=!1;const h=()=>{let e=()=>{g=!g,h()};document.getElementById("main").innerHTML=((e={},t=!1)=>` <div\n  class="form-container"\n>\n  <form id="courseForm">\n    <div class="outer_parts">\n      <h1>Course Creation</h1>\n    </div>\n    <div class="form">\n      <table>\n        <tr>\n          <td>\n            <label for="courseName">Course Name</label>\n          </td>\n          <td colspan="2">\n            ${t?'<input\n                  required\n                  type="text"\n                  id="courseName"\n                  placeholder="Enter Course Name...."\n                />':`<select id="courses" required>\n                  <option value="" selected name="courses">\n                    -\n                  </option>\n                  ${Object.keys(e).map((e=>`<option value="${e}" name="courses">\n                  ${e}\n                </option>`))}\n                </select>`}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <label for="stream">Stream</label>\n          </td>\n          <td colspan="2">\n            <select id="stream" ${t?"":"disabled"} required>\n              <option value="" disabled selected name="stream">-</option>\n              <option value="${r}" name="stream">\n                ${r}\n              </option>\n              <option value="${i}" name="stream">\n                ${i}\n              </option>\n              <option value="${c}" name="stream">\n                ${c}\n              </option>\n              <option value="${m}" name="stream">\n                ${m}\n              </option>\n            </select>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <label for="type">Type</label>\n          </td>\n          <td colspan="2">\n            <select\n              id="type"\n              ${t?"":"disabled"}\n              readonly="true"\n              required\n            >\n              <option value="" disabled selected name="type">-</option>\n              <option value="PartTime" name="type">Part Time</option>\n              <option value="FullTime" name="type">Full Time</option>\n            </select>\n          </td>\n        </tr>\n\n        <tr>\n          <td>\n            <label for="cost">Cost</label>\n          </td>\n          <td colspan="2">\n            <input\n              type="currency"\n              ${t?"":"disabled"}\n              step="any"\n              min="1"\n              required\n              id="cost"\n            />\n          </td>\n        </tr>\n\n        <tr>\n          <td>\n            <label for="startingDate">Starting Date</label>\n          </td>\n          <td colspan="2">\n            <input\n              type="date"\n              ${t?"":"disabled"}\n              required\n              id="startingDate"\n            />\n          </td>\n        </tr>\n\n        <tr>\n          <td>\n            <label for="endDate">End Date</label>\n          </td>\n          <td colspan="2">\n            <input\n              type="date"\n              ${t?"":"disabled"}\n              required\n              id="endDate"\n            />\n          </td>\n        </tr>\n      </table>\n      <div class="outer_parts">\n        <button ${t?"disabled":""} id="addNew" type="button">\n          Add New\n        </button>\n        <div class="buttons">\n          ${t?'<button type="submit">Submit</button>':"<button id='editForm' type=\"button\">Edit</button>"}\n          <button type="reset">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>`)(JSON.parse(t.courseState),g),document.getElementById("navbar-toggler").ariaExpanded=!1,document.getElementById("navbar-toggler").classList.add("collapsed"),document.getElementById("navbarNavDropdown").classList.remove("show"),document.getElementById("addNew").addEventListener("click",(()=>{e()})),document?.getElementById("editForm")?.addEventListener("click",(()=>{e(),d(JSON.parse(t.courseState),"courses")})),document?.getElementById("courses")?.addEventListener("change",(()=>d(JSON.parse(t.courseState),"courses")));let s=document.getElementById("courseForm");document.getElementById("cost").addEventListener("blur",b),s.addEventListener("submit",(t=>{t.preventDefault(),a(v,s),n("courseState",0,{...v,courseState:v}),s.reset(),e()}))};document.addEventListener("DOMContentLoaded",(()=>e())),document.getElementsByClassName("navbar-brand")[0].addEventListener("click",(()=>e())),document.getElementsByClassName("course")[0].addEventListener("click",(()=>h())),document.getElementsByClassName("teacher")[0].addEventListener("click",(()=>(()=>{document.getElementById("main").innerHTML=u,document.getElementById("navbar-toggler").ariaExpanded=!1,document.getElementById("navbar-toggler").classList.add("collapsed"),document.getElementById("navbarNavDropdown").classList.remove("show");const e=document.getElementById("teachersForm");e.addEventListener("submit",(t=>{t.preventDefault(),a(p,e),n("teachersState",0,{...p,teachersState:p}),e.reset()}))})())),document.getElementsByClassName("teacherEdit")[0].addEventListener("click",(()=>(()=>{document.getElementById("main").innerHTML='<div class="form-container">\n    <form id="teachersEditForm">\n      <div class="outer_parts">\n        <h1>Edit Trainers</h1>\n      </div>\n\n      <div class="form">\n        <table id="hTable" style="min-height: 100px">\n          <thead>\n            <th>Name</th>\n            <th>Last Name</th>\n            <th>Contact</th>\n            <th>Course</th>\n            <th>Edit</th>\n          </thead>\n          <tbody id="table"></tbody>\n        </table>\n        <div class="outer_parts">\n          <div class="buttons"></div>\n        </div>\n      </div>\n    </form>\n  </div>',document.getElementById("navbar-toggler").ariaExpanded=!1,document.getElementById("navbar-toggler").classList.add("collapsed"),document.getElementById("navbarNavDropdown").classList.remove("show");let e=document.getElementById("table"),[a,d]=(e=>{let t=0;return[Object.keys(e).map(((n,a)=>(t=a,`<tr id="tr_${a}">\n          <td id="${e[n].firstName}">${e[n].firstName}</td>\n          <td>${e[n].lastName}</td>\n          <td>${e[n].email}</td>\n          <td>\n            <select\n              class="subject"\n              name="subject"\n              id="editSubj${a}"\n              disabled\n              required\n            >\n              <option\n                ${e[n].subject===r&&"selected"}\n                value="${r}"\n                name="subject"\n              >\n                ${r}\n              </option>\n\n              <option\n                ${e[n].subject===i?"selected":""}\n                value="${i}"\n                name="subject"\n              >\n                ${i}\n              </option>\n              <option\n                ${e[n].subject===c?"selected":"false"}\n                value="${c}"\n                name="subject"\n              >\n                ${c}\n              </option>\n              <option\n                ${e[n].subject===m?"selected":""}\n                value="${m}"\n                name="subject"\n              >\n                ${m}\n              </option>\n            </select>\n          </td>\n          <td>\n            <button id="editButton${a}" type="button">\n              <img src="../../assets/edit-button.png" alt="" />\n            </button>\n            <button id="delete${a}" type="button">\n              <img src="../../assets/trash.png" alt="" />\n            </button>\n          </td>\n        </tr> `))).join("").replace(/,/g,""),t]})(JSON.parse(t.teachersState));e.innerHTML=a;for(let e=0;e<=d;e++)document.getElementById(`delete${e}`)?.addEventListener("click",(()=>{let a=s(`delete${e}`,JSON.parse(t.teachersState));n("teachersState",0,{...JSON.parse(t.teachersState),teachersState:a})}));for(let a=0;a<=d;a++)document.getElementById(`editButton${a}`)?.addEventListener("click",(()=>{if(e.rows[a].cells[3].childNodes[1].disabled)e.rows[a].cells[3].childNodes[1].disabled=!1;else{e.rows[a].cells[3].childNodes[1].disabled=!0;let s=e.rows[a].cells[0].id,d=e.rows[a].cells[3].childNodes[1].name,l=e.rows[a].cells[3].childNodes[1].value,o=JSON.parse(t.teachersState);n("teachersState",0,{teachersState:{...o,[s]:{...o[s],[d]:l}}})}}))})())),document.getElementsByClassName("student")[0].addEventListener("click",(()=>o())),document.getElementsByClassName("studentEdit")[0].addEventListener("click",(()=>(()=>{document.getElementById("main").innerHTML='<div class="form-container">\n    <form id="teachersEditForm">\n      <div class="outer_parts">\n        <h1>Edit Students</h1>\n      </div>\n\n      <div class="form">\n        <table id="hTable" style="min-height: 100px">\n          <thead>\n            <th>Name</th>\n            <th>Contact</th>\n            <th>Course</th>\n            <th>Tuition Fee</th>\n\n            <th>Edit</th>\n          </thead>\n          <tbody id="table"></tbody>\n        </table>\n        <div class="outer_parts">\n          <div class="buttons"></div>\n        </div>\n      </div>\n    </form>\n  </div>',document.getElementById("navbar-toggler").ariaExpanded=!1,document.getElementById("navbar-toggler").classList.add("collapsed"),document.getElementById("navbarNavDropdown").classList.remove("show");let e=document.getElementById("table"),[a,d]=((e,t)=>{let n=0;return[Object.keys(e).map(((a,s)=>(n=s,`\n          <tr id="tr_${s}">\n            <td id="${e[a].firstName}">\n              ${e[a].firstName} ${e[a].lastName}\n            </td>\n\n            <td>${e[a].email}</td>\n\n            <td>\n              <select\n                class="subject"\n                name="subject"\n                id="editSubj${s}"\n                disabled\n                required\n              >\n                ${Object.keys(t).map((e=>`<option value="${e}" name="courses">\n                  ${e}\n                  </option>`))}\n              </select>\n            </td>\n            <td>${e[a].fee}</td>\n            <td>\n              <button id="editButton${s}" type="button">\n                <img src="../../assets/edit-button.png" alt="" />\n              </button>\n              <button id="delete${s}" type="button">\n                <img src="../../assets/trash.png" alt="" />\n              </button>\n            </td>\n          </tr>\n        `))).join("").replace(/,/g,""),n]})(JSON.parse(t.studentState),JSON.parse(t.courseState));e.innerHTML=a;for(let e=0;e<=d;e++)document.getElementById(`delete${e}`)?.addEventListener("click",(()=>{let a=s(`delete${e}`,JSON.parse(t.studentState));n("studentState",0,{...JSON.parse(t.studentState),studentState:a})}));for(let a=0;a<=d;a++)document.getElementById(`editButton${a}`)?.addEventListener("click",(()=>{if(e.rows[a].cells[2].childNodes[1].disabled)e.rows[a].cells[2].childNodes[1].disabled=!1;else{e.rows[a].cells[2].childNodes[1].disabled=!0;let s=e.rows[a].cells[0].id,d=e.rows[a].cells[2].childNodes[1].name,l=e.rows[a].cells[2].childNodes[1].value,o=JSON.parse(t.teachersState);n("studentState",0,{studentState:{...o,[s]:{...o[s],[d]:l}}})}}))})())),console.log(t)})();